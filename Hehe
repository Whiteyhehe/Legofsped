-- Load the Orion Library
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

-- Create the main window
local Window = OrionLib:MakeWindow({Name = "Legend of Speed (test)", HidePremium = false})

-- Declare variables for toggles and values
local farmOrbEnabled = false
local autoRebirthEnabled = false
local orbSelected = "Yellow"
local selectedCity = "City"  -- Default city
local farmOrbInterval = 1.5
local trailOrPetName = ""
local speedValue = 1
local jumpPowerValue = 1

-- Function to give Trail or Pet
local function giveTrailOrPet(trailOrPetName)
    if trailOrPetName and trailOrPetName ~= "" then
        local args = {
            [1] = game:GetService("ReplicatedStorage").cPetShopFolder:FindFirstChild(trailOrPetName)
        }
        game:GetService("ReplicatedStorage").cPetShopRemote:InvokeServer(unpack(args))
    else
        print("Please enter a valid Trail or Pet name.")
    end
end

-- Function to start farming orbs with a fixed interval
local function startFarmOrb(orbSelected)
    if farmOrbEnabled then
        coroutine.wrap(function()
            while farmOrbEnabled do
                wait(farmOrbInterval)  -- Use the interval set by the user (e.g., 1.5 seconds)
                for j = 1, 1000 do
                    local orbName = orbSelected
                    if orbSelected ~= "Gem" then
                        orbName = orbSelected .. " Orb"  -- Append " Orb" for all orbs except Gem
                    end
                    
                    local args = {
                        [1] = "collectOrb",
                        [2] = orbName,  -- Use the dynamically set orb name
                        [3] = selectedCity  -- Use the dynamically selected city
                    }

                    -- Fire the orb collection event with the selected orb type and city
                    game:GetService("ReplicatedStorage").rEvents.orbEvent:FireServer(unpack(args))
                end
            end
        end)()  -- Start the loop asynchronously
    end
end

-- Function to buy Glitched x2 Trail Boost
local function buyGlitchedTrailBoost()
    local args = {
        [1] = "upgradeUltimate",
        [2] = "x2 Trail Boosts"
    }
    game:GetService("ReplicatedStorage").rEvents.ultimatesRemote:InvokeServer(unpack(args))
end

-- Function for auto rebirth
local function startAutoRebirth()
    while autoRebirthEnabled do
        wait(0)
        local args = {
            [1] = "rebirthRequest"
        }
        game:GetService("ReplicatedStorage").rEvents.rebirthEvent:FireServer(unpack(args))
    end
end

-- Function to auto change speed
local function autoChangeSpeed(speedValue)
    local args = {
        [1] = "changeSpeed",
        [2] = speedValue
    }
    game:GetService("ReplicatedStorage").rEvents.changeSpeedJumpRemote:InvokeServer(unpack(args))
end

-- Function to auto change jump power
local function autoChangeJumpPower(jumpPowerValue)
    local args = {
        [1] = "changeJump",
        [2] = jumpPowerValue
    }
    game:GetService("ReplicatedStorage").rEvents.changeSpeedJumpRemote:InvokeServer(unpack(args))
end

-- Tab for Trail/Pet Giver
local Tab1 = Window:MakeTab({
    Name = "Trail / Pet Giver üåü",
    Icon = "rbxassetid://4483345998",  -- Replaced with rbxassetid
    PremiumOnly = false
})

Tab1:AddLabel("Give yourself a specific trail or pet.")

Tab1:AddTextbox({
    Name = "Enter Trail / Pet Name",
    Default = "Trail/Pet Name",
    TextDisappear = true,
    Callback = function(Value)
        trailOrPetName = Value
    end
})

Tab1:AddButton({
    Name = "Give Trail / Pet",
    Callback = function()
        giveTrailOrPet(trailOrPetName)  -- Call the function when button is pressed
    end
})

-- Tab for Orb Farming
local Tab2 = Window:MakeTab({
    Name = "Farm Orb üíé",
    Icon = "rbxassetid://4483345998",  -- Replaced with rbxassetid
    PremiumOnly = false
})

Tab2:AddLabel("Farm orbs with your selected interval.")

-- City Selector Dropdown
Tab2:AddDropdown({
    Name = "City Selector",
    Default = "City",
    Options = {"City", "Snow City", "Magma City", "Legends Highway", "Speed Jungle"},
    Callback = function(Value)
        selectedCity = Value  -- Store selected city
    end
})

Tab2:AddToggle({
    Name = "Farm Orb Toggle",
    Default = false,
    Callback = function(Value)
        farmOrbEnabled = Value
        if farmOrbEnabled then
            startFarmOrb(orbSelected)  -- Start farming orbs when toggle is on
        end
    end
})

Tab2:AddDropdown({
    Name = "Select Orb Type",
    Default = "Yellow",
    Options = {"Ethereal", "Yellow", "Red", "Orange", "Gem", "Infernal"},
    Callback = function(Value)
        orbSelected = Value
    end
})

Tab2:AddTextbox({
    Name = "Orb Collection Interval",
    Default = "1.5",
    TextDisappear = true,
    Callback = function(Value)
        farmOrbInterval = tonumber(Value) or 1.5  -- Default to 1.5 seconds if invalid input
    end
})

-- Tab for Glitched x2 Trail Boost
local Tab3 = Window:MakeTab({
    Name = "Glitched Boost ‚ö°",
    Icon = "rbxassetid://4483345998",  -- Replaced with rbxassetid
    PremiumOnly = false
})

Tab3:AddLabel("Purchase the Glitched x2 Trail Boost.")

Tab3:AddButton({
    Name = "Buy Glitched x2 Trail Boost",
    Callback = function()
        buyGlitchedTrailBoost()  -- Trigger the function for buying boost
    end
})

-- Tab for Auto Rebirth
local Tab4 = Window:MakeTab({
    Name = "Auto Rebirth ‚ôªÔ∏è",
    Icon = "rbxassetid://4483345998",  -- Replaced with rbxassetid
    PremiumOnly = false
})

Tab4:AddLabel("Automatically rebirth when enabled.")

Tab4:AddToggle({
    Name = "Auto Rebirth Toggle",
    Default = false,
    Callback = function(Value)
        autoRebirthEnabled = Value
        if autoRebirthEnabled then
            startAutoRebirth()  -- Start auto rebirth when toggle is enabled
        end
    end
})

-- Tab for Auto Change Speed
local Tab5 = Window:MakeTab({
    Name = "Auto Speed üèéÔ∏è",
    Icon = "rbxassetid://4483345998",  -- Replaced with rbxassetid
    PremiumOnly = false
})

Tab5:AddLabel("Automatically change your speed value.")

Tab5:AddTextbox({
    Name = "Enter Speed Value",
    Default = "1",
    TextDisappear = true,
    Callback = function(Value)
        speedValue = tonumber(Value) or 1  -- Default to 1 if invalid input
    end
})

Tab5:AddButton({
    Name = "Change Speed",
    Callback = function()
        autoChangeSpeed(speedValue)  -- Trigger the function when button is pressed
    end
})

-- Tab for Auto Change Jump Power
local Tab6 = Window:MakeTab({
    Name = "Auto JumpPower ü¶ò",
    Icon = "rbxassetid://4483345998",  -- Replaced with rbxassetid
    PremiumOnly = false
})

Tab6:AddLabel("Automatically change your jump power value.")

Tab6:AddTextbox({
    Name = "Enter Jump Power Value",
    Default = "1",
    TextDisappear = true,
    Callback = function(Value)
        jumpPowerValue = tonumber(Value) or 1  -- Default to 1 if invalid input
    end
})

Tab6:AddButton({
    Name = "Change JumpPower",
    Callback = function()
        autoChangeJumpPower(jumpPowerValue)  -- Trigger the function when button is pressed
    end
})

local MiscTab = Window:MakeTab({
    Name = "Misc üí•",
    Icon = "rbxassetid://4483345998",  -- Replaced with rbxassetid
    PremiumOnly = false,
    BorderColor = Color3.fromRGB(128, 128, 128)  -- Gray border
})

-- Add Universal Scripts label
MiscTab:AddLabel("Universal Scripts")

-- Add Inf Yield script button
MiscTab:AddButton({
    Name = "Load Inf Yield",
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Inf-yeild-New-Version-1836"))()
    end
})

-- Add Nameless Admin script button
MiscTab:AddButton({
    Name = "Load Nameless Admin",
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Nameless-Admin-Official-15022"))()
    end
})

-- Add Remote Spy script button
MiscTab:AddButton({
    Name = "Load Remote Spy",
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Just-A-Script-Rewrite-12363"))()
    end
})

-- Add Fly Mobile script button
MiscTab:AddButton({
    Name = "Load Fly Mobile",
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-FLY-GUI-V3-8031"))()
    end
})

-- Initialize the Orion Library
OrionLib:Init()
